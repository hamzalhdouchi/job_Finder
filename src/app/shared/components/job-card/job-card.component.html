<article
    class="group relative bg-white border border-gray-200 rounded-xl p-4 hover:border-blue-600 hover:shadow-md transition-all duration-200 cursor-pointer selection-card">
    <div class="absolute top-4 right-4 flex flex-col gap-3 z-10 opacity-0 group-hover:opacity-100 transition-opacity">
        <button (click)="onSave($event)" class="p-1.5 text-gray-500 hover:bg-gray-100 rounded-md transition-colors"
            [attr.aria-label]="isAuthenticated ? 'Save job' : 'Login to save job'">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
            </svg>
        </button>
        <button (click)="onDismiss($event)" class="p-1.5 text-gray-500 hover:bg-gray-100 rounded-md transition-colors"
            aria-label="Not interested">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>
            </svg>
        </button>
    </div>

    <div class="pr-10">
        <h2
            class="text-[1.1rem] font-bold text-gray-900 mb-1 leading-tight group-hover:underline decoration-blue-700 decoration-2 underline-offset-2">
            <a [routerLink]="['/jobs', job.id]" (click)="onTitleClick($event)" class="outline-none">
                {{ job.title }}
            </a>
        </h2>

        <div class="mb-1">
            <span class="text-[0.9rem] text-gray-900 font-normal">
                {{ job.company.name }}
            </span>
        </div>

        <div class="mb-3">
            <span class="text-[0.9rem] text-gray-500">
                {{ job.location }}
            </span>
        </div>

        <div class="flex flex-wrap gap-2 mb-3">
            <span *ngIf="job.contractTime"
                class="inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-gray-700 text-xs font-bold">
                {{ job.contractTime === 'full_time' ? 'Temps plein' : job.contractTime === 'part_time' ? 'Temps partiel'
                : 'Stage' }}
            </span>

            <span *ngIf="job.salary"
                class="inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-gray-700 text-xs font-bold">
                {{ job.salary }}
            </span>
        </div>

        <div class="flex items-center gap-1.5 text-blue-700 mt-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
                class="transform -rotate-45">
                <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
            <span class="text-xs font-medium">Candidature simplifi√©e</span>
        </div>
    </div>
</article>
